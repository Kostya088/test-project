const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-CtsxCimX.js","assets/vendor-Cof9vvhq.css"])))=>i.map(i=>d[i]);
import{a as _,S as se,N as re,P as ie,A as pe,R as fe}from"./assets/vendor-CtsxCimX.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".header-burger"),t=document.querySelector(".header-close"),n=document.querySelector(".header-mob-menu"),o=document.querySelectorAll(".header-link"),s=a=>{a.key==="Escape"&&r()},r=()=>{n.classList.contains("mob-menu-open")&&(n.classList.remove("mob-menu-open"),e.classList.remove("is-hidden"),t.classList.remove("is-active"),document.body.style.overflow="",document.removeEventListener("keydown",s))};e.addEventListener("click",()=>{n.classList.add("mob-menu-open"),e.classList.add("is-hidden"),t.classList.add("is-active"),document.body.style.overflow="hidden",document.addEventListener("keydown",s)}),t.addEventListener("click",r),n.addEventListener("click",a=>{a.target.closest(".header-mob-menu-container")||r()}),o.forEach(a=>{a.addEventListener("click",l=>{const u=a.getAttribute("href");if(!u||!u.startsWith("#"))return;const f=document.querySelector(u);f&&(l.preventDefault(),window.innerWidth<1440?(r(),setTimeout(()=>{f.scrollIntoView({behavior:"smooth",block:"start"})},300)):f.scrollIntoView({behavior:"smooth",block:"start"}))})}),document.querySelectorAll(".header-btn[data-scroll]").forEach(a=>{a.addEventListener("click",()=>{const l=a.dataset.scroll,u=document.querySelector(l);u&&(u.scrollIntoView({behavior:"smooth",block:"start"}),r())})}),window.addEventListener("resize",()=>{window.innerWidth>=1440&&r()})});document.getElementById("scrollToStories").addEventListener("click",function(e){e.preventDefault(),document.querySelector("#success-stories").scrollIntoView({behavior:"smooth"})});const ye="modulepreload",ge=function(e){return"/test-project/"+e},X={},Y=function(t,n,o){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),a=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=ge(l),l in X)return;X[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":ye,u||(m.as="script"),m.crossOrigin="",m.href=l,a&&m.setAttribute("nonce",a),document.head.appendChild(m),u)return new Promise((ue,me)=>{m.addEventListener("load",ue),m.addEventListener("error",()=>me(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(c){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=c,window.dispatchEvent(a),!a.defaultPrevented)throw c}return s.then(c=>{for(const a of c||[])a.status==="rejected"&&r(a.reason);return t().catch(r)})};let x=null;async function Q(){if(x)return x;const e=await Y(()=>import("./assets/vendor-CtsxCimX.js").then(t=>t.i),__vite__mapDeps([0,1]));return await Y(()=>import("./assets/vendor-CtsxCimX.js").then(t=>t.b),__vite__mapDeps([0,1])),x=e.default,x}async function k(e,t={}){(await Q()).error({message:e,position:"topRight",color:"#f2aaaaff",icon:!1,progressBar:!1,messageColor:"black",...t})}async function $(e,t={}){(await Q()).info({message:e,position:"topRight",...t})}async function he(e,t={}){(await Q()).success({message:e,position:"topRight",...t})}async function ve(e,t=1){const n=window.innerWidth<1440?8:9,s={page:Math.max(1,Number(t)||1),limit:n};return e&&(s.categoryId=e),(await _.get("https://paw-hut.b.goit.study/api/animals/",{params:s})).data}async function be(){return(await _.get("https://paw-hut.b.goit.study/api/categories/",{})).data}const Le=document.querySelector(".pets-category-list"),ae=document.querySelector(".pets-list"),ce=document.querySelector(".loader"),M=document.querySelector(".more-pets-button");function we(e){const t=e.map(n=>`<li class="pet-list-item">
            <div class="pet-item-link">
                <img class="pet-image" src="${n.image}" alt="${n.shortDescription}"/>
            </div>
            <div class="info-container">
                <p class="pet-info species">${n.species}</p>
                <p class="pet-info name">${n.name}</p>
                <div class="pet-info category">${n.categories.map(o=>`<span class="category">${o.name}</span>`).join(" ")}
                </div>
                <p class="pet-info age-gender"><span class="age">${n.age}</span class="gender"><span>${n.gender}</span></p>
                <p class="pet-info behavior">${n.behavior} ${n.shortDescription}</p>
            </div>
            <div class="button-container animated-button ligth" data-id="${n._id}">
                <p class="more-pet-info">Дізнатись більше</p>
            </div>
        </li>`).join("");ae.insertAdjacentHTML("beforeend",t)}function F(){ae.innerHTML=""}function K(){ce.style.display="block"}function Ee(){ce.style.display="none"}function T(){M.style.display="none"}function Ie(){M.style.display="block"}function Se(){const e=document.querySelector(".pet-list-item");if(!e)return;const t=e.getBoundingClientRect().height;window.scrollBy({top:t*1,behavior:"smooth"})}const ee=["Всі","Собаки","Коти","Кролики","Гризуни","Птахи","Тварини з особливими потребами","Терміново шукають дім"];function Ce(e){const n=e.slice().sort((o,s)=>ee.indexOf(o.name)-ee.indexOf(s.name)).map(o=>`
            <li class="category-list-item">
                <button class="pet-category-button animated-button dark"
                    type="button"
                    data-category-id="${o._id}">
                    ${o.name}
                </button>
            </li>
        `).join("");Le.insertAdjacentHTML("beforeend",n)}let q=1,O="",g=[];const B=new Map,R=document.querySelector(".pets-list"),te=document.querySelector(".pets-category-list"),qe=document.querySelector(".pet-category-button.all");qe.classList.add("is-deactive");ke();Z(O,q);te.addEventListener("click",e=>{const t=e.target.closest(".pet-category-button");if(!t)return;const n=te.querySelector(".pet-category-button.is-deactive");n&&n.classList.remove("is-deactive"),t.classList.add("is-deactive"),O=t.dataset.categoryId||"",q=1,T(),F(),K(),Z(O,q)});M&&M.addEventListener("click",e=>{e.preventDefault(),T(),K(),q++,Z(O,q)});R==null||R.addEventListener("click",e=>{const t=e.target.closest(".pets-list-section .button-container");if(!t)return;e.preventDefault();const n=t.dataset.id;window.dispatchEvent(new CustomEvent("open-animal-modal",{detail:{petId:n}}))});async function Z(e,t){try{T(),K();const n=await ve(e,t),o=(n==null?void 0:n.animals)||[];if(o.length===0){await $("Тварин не знайдено за обраним фільтром."),F();return}t===1&&(g=[],B.clear(),F());const s=[];for(const c of o)B.has(c._id)?B.set(c._id,c):(B.set(c._id,c),g.push(c),s.push(c));xe(g),we(s),t>1&&Se();const r=Math.ceil((n.totalItems||0)/(n.limit||1));t>=r?(T(),await $("Ви переглянули всі доступні результати.")):Ie()}catch(n){await k((n==null?void 0:n.message)||"Сталася помилка під час завантаження тварин.")}finally{Ee()}}async function ke(){try{const e=await be();if(!Array.isArray(e)||e.length===0){await $("Категорії не знайдено.");return}g=e,Ce(g)}catch(e){await k((e==null?void 0:e.message)||"Сталася помилка під час завантаження категорій.")}finally{}}function xe(e){g=Array.isArray(e)?e:[]}function Be(e){return g.find(t=>t._id===e)}let P=null;function C(e){var c,a;let t=null,n=null;const o=(c=e==null?void 0:e.navigation)==null?void 0:c.prevEl,s=(a=e==null?void 0:e.navigation)==null?void 0:a.nextEl;o&&(t=Array.isArray(o)?o[0]:o),s&&(n=Array.isArray(s)?s[0]:s);const r=(e==null?void 0:e.el)||(e==null?void 0:e.$el)||null;if(r&&r.querySelector&&(t=t||r.querySelector(".about-us-swiper-button-prev"),n=n||r.querySelector(".about-us-swiper-button-next")),t){const l=!!(e!=null&&e.isBeginning);t.disabled=l,t.classList.toggle("swiper-button-disabled",l),t.setAttribute("aria-disabled",l?"true":"false")}if(n){const l=!!(e!=null&&e.isEnd);n.disabled=l,n.classList.toggle("swiper-button-disabled",l),n.setAttribute("aria-disabled",l?"true":"false")}}function Pe(){const e=document.querySelector(".about-us-section .about-us-swiper");if(!e)return null;if(e.swiper)try{e.swiper.destroy(!0,!0)}catch{}const t=e.querySelector(".about-us-swiper-controls"),n=(t==null?void 0:t.querySelector(".about-us-swiper-button-next"))||null,o=(t==null?void 0:t.querySelector(".about-us-swiper-button-prev"))||null,s=(t==null?void 0:t.querySelector(".about-us-swiper-pagination"))||null,r=new se(e,{modules:[re,ie],loop:!1,wrapperClass:"about-us-swiper-wrapper",slideClass:"about-us-swiper-slide",pagination:{el:s,clickable:!0},slidesPerView:1,spaceBetween:20,breakpoints:{768:{slidesPerView:1},1280:{slidesPerView:1}},on:{init(a){C(a)},slideChange(){C(r)}}}),c=(a,l,u)=>{if(!a)return;const f=a[l];if(f)try{a.removeEventListener("click",f)}catch{}a[l]=u,a.addEventListener("click",u)};return c(n,"_aboutUsNext",a=>{a.preventDefault(),r.slideNext(),C(r)}),c(o,"_aboutUsPrev",a=>{a.preventDefault(),r.slidePrev(),C(r)}),C(r),r}function ne(){if(P){try{P.destroy(!0,!0)}catch{}P=null}P=Pe()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ne):ne();new pe("#faq-accordion",{duration:300,showMultiple:!1,openOnInit:[]});const Ae=_.create({baseURL:"https://paw-hut.b.goit.study/api/",params:{page:1,limit:6}});async function $e(){try{const{data:e}=await Ae.get("/feedbacks");return e.feedbacks}catch{return null}}function Me(e){const t=document.querySelector(".success-stories-section .swiper-wrapper"),n=e.map(({description:o,rate:s,author:r})=>`
        <div class="swiper-slide">
          <div class="star-rating" data-score="${s}"></div>     
            <p class="storie-text">${o}</p>
            <p class="storie-names">${r}</p>  
        </div>`).join("");t.insertAdjacentHTML("beforeend",n),document.querySelectorAll(".star-rating").forEach(o=>{new fe(o,{starType:"svg",readOnly:!0}).init()})}const Te=document.querySelector(".stories-loader"),Oe=document.querySelector(".success-stories-section .swiper-controls");function j(e){$(e,{color:"#f2aaaaff",icon:!1,progressBar:!1,messageColor:"black"})}function A(){Te.classList.remove("loader")}function _e(){Oe.classList.remove("visually-hidden")}window.addEventListener("DOMContentLoaded",async()=>{try{let e=await $e();if(e===null){j("Не вдалося завантажити історії. Спробуйте пізніше"),A();const n=document.querySelector(".success-stories-section .swiper-wrapper");n&&(n.innerHTML='<p class="error-swiper">Не вдалося завантажити історії</p>');return}if(e.length===0){j("Нажаль, історії зараз недоступні"),A();const n=document.querySelector(".success-stories-section .swiper-wrapper");n&&(n.innerHTML='<p class="error-swiper">Нажаль, історії зараз недоступні</p>');return}Me(e);const t=new se(".success-stories-section .swiper",{modules:[re,ie],direction:"horizontal",loop:!1,speed:400,spaceBetween:32,pagination:{el:".success-stories-section .swiper-pagination",clickable:!0,dynamicBullets:!1},navigation:{nextEl:".success-stories-section .swiper-button-next",prevEl:".success-stories-section .swiper-button-prev"},breakpoints:{768:{slidesPerView:2}}});_e(),A()}catch{j("Cталась помилка. Спробуйте пізніше");const t=document.querySelector(".success-stories-section .swiper-wrapper");t&&(t.innerHTML='<p class="error-swiper">Нажаль, історії зараз недоступні</p>'),A()}});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".footer-nav-link").forEach(t=>{t.addEventListener("click",function(n){n.preventDefault();const o=this.getAttribute("href");if(o&&o.startsWith("#")){const s=document.querySelector(o);s&&s.scrollIntoView({behavior:"smooth",block:"start"})}})})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".footer-nav-link");e.length&&e.forEach(t=>{t.addEventListener("click",n=>{if(t.classList.contains("is-disabled"))return;e.forEach(r=>r.classList.remove("is-active")),t.classList.add("is-active");const o=t.getAttribute("href"),s=document.querySelector(o);s&&s.scrollIntoView({behavior:"smooth"}),history.pushState(null,"",o)})})});const d=document.querySelector(".animal-details-modal"),W=d==null?void 0:d.querySelector(".icon"),H=d==null?void 0:d.querySelector(".button"),oe=d==null?void 0:d.querySelector(".pet-image");let y=null;const v=document.getElementById("pet-name"),b=document.getElementById("pet-type"),L=document.getElementById("age"),w=document.getElementById("gender"),E=document.getElementById("desc"),I=document.getElementById("health"),S=document.getElementById("behaviour");function le(){return y||(oe?(y=document.createElement("img"),y.classList.add("placeholder-image"),y.alt="",oe.appendChild(y),y):null)}let G=null;function U(){d==null||d.classList.remove("visually-hidden"),document.body.classList.add("lock-scroll"),document.documentElement.classList.add("lock-scroll")}function D(){d==null||d.classList.add("visually-hidden"),document.body.classList.remove("lock-scroll"),document.documentElement.classList.remove("lock-scroll");const e=le();e&&(e.src="",e.alt=""),v&&(v.textContent=""),b&&(b.textContent=""),L&&(L.textContent=""),w&&(w.textContent=""),E&&(E.textContent=""),I&&(I.textContent=""),S&&(S.textContent=""),G=null}function De(e){const t=Be(e);if(G=e,!t){U();return}const n=le(),o=new Image;o.onload=()=>{n&&(n.src=t.image||"",n.alt=t.name||""),v&&(v.textContent=t.name||""),b&&(b.textContent=t.species||""),L&&(L.textContent=t.age||""),w&&(w.textContent=t.gender||""),E&&(E.textContent=t.description||""),I&&(I.textContent=t.healthStatus||""),S&&(S.textContent=t.behavior||""),U()},o.onerror=()=>{console.error("Failed to load image:",t.image),n&&(n.src=t.image||"",n.alt=t.name||""),v&&(v.textContent=t.name||""),b&&(b.textContent=t.species||""),L&&(L.textContent=t.age||""),w&&(w.textContent=t.gender||""),E&&(E.textContent=t.description||""),I&&(I.textContent=t.healthStatus||""),S&&(S.textContent=t.behavior||""),U()},o.src=t.image||""}H==null||H.addEventListener("click",()=>{const e=G;D(),window.dispatchEvent(new CustomEvent("open-order-modal",{detail:{petId:e}}))});W==null||W.addEventListener("click",D);d==null||d.addEventListener("click",e=>{e.target===d&&D()});document.addEventListener("keydown",e=>{e.key==="Escape"&&!(d!=null&&d.classList.contains("visually-hidden"))&&D()});window.addEventListener("open-animal-modal",e=>{De(e.detail.petId)});const Ve=_.create({baseURL:"https://paw-hut.b.goit.study/api"}),i={overlay:document.querySelector(".order-modal-overlay"),modal:document.querySelector(".order-modal"),closeBtn:document.querySelector(".order-btn-close"),form:document.querySelector(".order-form"),nameInput:document.querySelector("#user-name"),phoneInput:document.querySelector("#user-tel"),commentInput:document.querySelector("#user-comment"),submitBtn:document.querySelector(".btn-send")};let V=null;window.addEventListener("open-order-modal",async e=>{var n;const t=(n=e==null?void 0:e.detail)==null?void 0:n.petId;if(!t){await k("Не вдалося визначити тварину для заявки");return}V=t,ze()});function ze(){i.overlay.classList.add("is-open"),document.documentElement.classList.add("modal-open"),document.body.classList.add("modal-open"),i.submitBtn.disabled=!0,N(),document.addEventListener("keydown",de)}function z(){i.overlay.classList.remove("is-open"),document.documentElement.classList.remove("modal-open"),document.body.classList.remove("modal-open"),i.form.reset(),i.submitBtn.disabled=!0,p(i.nameInput),p(i.phoneInput),p(i.commentInput),V=null,document.removeEventListener("keydown",de)}i.closeBtn.addEventListener("click",z);i.overlay.addEventListener("click",e=>{e.target===i.overlay&&z()});function de(e){e.key==="Escape"&&i.overlay.classList.contains("is-open")&&z()}i.form.addEventListener("submit",async e=>{e.preventDefault();const t=i.nameInput.value.trim(),n=i.phoneInput.value,o=i.commentInput.value.trim(),s=J(n);if(!await Ne(t,s,o))return;const r={name:t,phone:s,comment:o||void 0,animalId:V};try{await Ve.post("/orders",r),await he("Заявку відправлено"),z()}catch{await k("Не вдалося відправити заявку")}});async function Ne(e,t,n){let o=!0;return p(i.nameInput),p(i.phoneInput),p(i.commentInput),(!e||e.length<3||e.length>32)&&(h(i.nameInput,"Імʼя має бути від 3 до 32 символів"),o=!1),(!t||!/^[0-9]{12}$/.test(t))&&(h(i.phoneInput,"Введіть коректний номер телефону"),o=!1),n&&n.length>500&&(h(i.commentInput,"Коментар не може перевищувати 500 символів"),o=!1),V||(await k("Не обрано тварину"),o=!1),o}function h(e,t){var o;e.classList.add("is-error");const n=(o=e.closest(".order-container-area, .order-container-label"))==null?void 0:o.querySelector(".order-error-text");n&&(n.textContent=t,n.classList.add("is-visible"))}function p(e){var n;e.classList.remove("is-error");const t=(n=e.closest(".order-container-area, .order-container-label"))==null?void 0:n.querySelector(".order-error-text");t&&(t.classList.remove("is-visible"),t.textContent="")}i.nameInput.addEventListener("input",()=>{let e=i.nameInput.value.trim();e=e.replace(/[^a-zA-Zа-яА-ЯіІїЇєЄґҐ\s-]/g,""),i.nameInput.value=e,p(i.nameInput),e.length>0&&e.length<3?h(i.nameInput,"Мінімум 3 символи"):e.length>32&&h(i.nameInput,"Максимум 32 символи"),N()});i.phoneInput.addEventListener("input",()=>{let e=i.phoneInput.value;e=e.replace(/[^0-9+]/g,""),e.includes("+")&&(e="+"+e.replace(/\+/g,"").replace(/^/,"")),i.phoneInput.value=e;const t=J(e);p(i.phoneInput),t&&!/^[0-9]{12}$/.test(t)&&h(i.phoneInput,"Введіть коректний номер телефону"),N()});i.commentInput.addEventListener("input",()=>{const e=i.commentInput.value.trim();p(i.commentInput),e.length>500&&h(i.commentInput,"Максимум 500 символів"),N()});function J(e){let t=e.replace(/\D/g,"");return t.length===10&&t.startsWith("0")&&(t="38"+t),t.length===12&&t.startsWith("380"),t}function N(){const e=i.nameInput.value.trim(),t=J(i.phoneInput.value),n=i.commentInput.value.trim(),o=e.length>=3&&e.length<=32,s=/^[0-9]{12}$/.test(t),r=n.length<=500;i.submitBtn.disabled=!(o&&s&&r)}
//# sourceMappingURL=index.js.map
